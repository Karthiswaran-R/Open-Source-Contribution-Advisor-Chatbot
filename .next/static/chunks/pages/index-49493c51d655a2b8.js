(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9770)}])},4789:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var r=t(7876),s=t(4232);function n(e){let{onSendMessage:a,disabled:t}=e,[n,i]=(0,s.useState)("");return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n.trim()&&(a(n),i(""))},style:{display:"flex",marginTop:20},children:[(0,r.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),style:{flex:1,padding:"10px",borderRadius:"10px",border:"1px solid #ccc"},placeholder:"Type your message...",disabled:t}),(0,r.jsx)("button",{type:"submit",disabled:t,style:{padding:"10px 15px",marginLeft:"10px",backgroundColor:"#007BFF",color:"#fff",borderRadius:"10px",border:"none"},children:"Send"})]})}},9770:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>h});var r=t(7876),s=t(4250),n=t.n(s),i=t(7328),o=t.n(i),d=t(4789),c=t(4232),l=t(9720);function f(e){let{message:a,isUser:t}=e,[s,n]=(0,c.useState)("");return(0,c.useEffect)(()=>{let e=a;if("string"!=typeof a)try{e=JSON.stringify(a,null,2)}catch(a){e="⚠️ Unrenderable message"}n(e)},[a]),(0,r.jsx)("div",{style:{textAlign:t?"right":"left",margin:"10px 0",backgroundColor:t?"#daf1ff":"#f1f1f1",padding:"10px",borderRadius:"10px",maxWidth:"80%",marginLeft:t?"auto":"0",whiteSpace:"pre-wrap"},children:(0,r.jsx)(l.oz,{children:s})})}async function x(e){if(!e||"string"!=typeof e)throw Error("Invalid message input");try{let a=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})});if(!a.ok){let e=await a.text();throw console.error("Response failed:",e),Error("HTTP error! status: ".concat(a.status," - ").concat(e))}let t=await a.json();return console.log("API Response:",t),t.reply||"No response received."}catch(e){throw console.error("Fetch failed:",e),Error("Failed to fetch chat data")}}var p=t(8847);function h(){let[e,a]=(0,c.useState)([]),[t,s]=(0,c.useState)(!1),i=async e=>{a(a=>[...a,{text:e,isUser:!0}]),s(!0);try{let t=await x(e);a(e=>[...e,{text:t,isUser:!1}])}catch(e){console.error("Error fetching chat response:",e),a(e=>[...e,{text:"Sorry, I encountered an error.",isUser:!1}])}finally{s(!1)}};return(0,r.jsxs)("div",{className:"jsx-29c54adacf1ad773",children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{className:"jsx-29c54adacf1ad773",children:"Next.js Chatbot"}),(0,r.jsx)("meta",{name:"description",content:"A simple chatbot UI built with Next.js",className:"jsx-29c54adacf1ad773"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico",className:"jsx-29c54adacf1ad773"})]}),(0,r.jsxs)("main",{className:"jsx-29c54adacf1ad773",children:[(0,r.jsx)("h1",{className:"jsx-29c54adacf1ad773",children:"\uD83D\uDCAC Chat with me!"}),(0,r.jsxs)("div",{className:"jsx-29c54adacf1ad773 chat-box",children:[e.map((e,a)=>(0,r.jsx)(f,{message:e.text,isUser:e.isUser},a)),t&&(0,r.jsx)(f,{message:"Thinking...",isUser:!1})]}),(0,r.jsx)(d.A,{onSendMessage:i,disabled:t})]}),(0,r.jsx)(n(),{id:"e719d943e6208d14",children:"main.jsx-29c54adacf1ad773{padding:20px;max-width:700px;margin:0 auto}h1.jsx-29c54adacf1ad773{text-align:center;margin-bottom:20px;font-size:2rem;color:#333}.chat-box.jsx-29c54adacf1ad773{background-color:#1f1f1f;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;padding:16px;color:#fff;min-height:300px;margin-bottom:24px}"}),(0,r.jsx)(n(),{id:"8912f32ae5723c8f",children:'body{font-family:"Segoe UI",sans-serif;background-color:#111;color:white}'})]})}t.n(p)()(()=>t.e(590).then(t.bind(t,7590)),{loadableGenerated:{webpack:()=>[7590]},ssr:!1})}},e=>{var a=a=>e(e.s=a);e.O(0,[54,636,593,792],()=>a(2936)),_N_E=e.O()}]);